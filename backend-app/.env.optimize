# 性能优化环境变量配置
# Performance Optimization Environment Variables

# Redis配置优化
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_MAX_MEMORY=1gb
REDIS_TTL=600
REDIS_POOL_SIZE=20

# MySQL连接池优化
MYSQL_POOL_SIZE=50
MYSQL_POOL_MIN=10
MYSQL_POOL_ACQUIRE_TIMEOUT=60000
MYSQL_POOL_IDLE_TIMEOUT=300000
MYSQL_QUERY_TIMEOUT=30000

# 性能目标配置
PERFORMANCE_TARGET_TPS=1000
PERFORMANCE_TARGET_RESPONSE_TIME=500
PERFORMANCE_TARGET_ERROR_RATE=0.005
PERFORMANCE_TARGET_CPU_USAGE=70
PERFORMANCE_TARGET_MEMORY_USAGE=80

# 负载测试配置
LOAD_TEST_DURATION=900
LOAD_TEST_USERS=200
LOAD_TEST_RAMP_UP=60

# 监控配置
MONITORING_INTERVAL=5000
MONITORING_RETENTION_DAYS=30

# Nginx优化配置
NGINX_WORKER_PROCESSES=auto
NGINX_WORKER_CONNECTIONS=1024
NGINX_KEEPALIVE_TIMEOUT=65
NGINX_CLIENT_MAX_BODY_SIZE=10m

# 压缩配置
COMPRESSION_ENABLED=true
COMPRESSION_LEVEL=6
COMPRESSION_THRESHOLD=1024

# 缓存策略配置
CACHE_STRATEGY=lru
CACHE_MAX_SIZE=1000
CACHE_DEFAULT_TTL=600

# API限流配置
RATE_LIMIT_WINDOW=60000
RATE_LIMIT_MAX_REQUESTS=1000
RATE_LIMIT_SKIP_SUCCESSFUL_REQUESTS=false

# 数据库索引优化
DB_INDEX_OPTIMIZATION_ENABLED=true
DB_ANALYZE_SLOW_QUERIES=true
DB_SLOW_QUERY_THRESHOLD=1000

# 性能报告配置
REPORT_OUTPUT_DIR=./reports/performance
REPORT_FORMAT=html,json
REPORT_INCLUDE_CHARTS=true
# 轻量级模式环境配置
# 用于减少CPU使用率的优化配置

# ===================
# 核心性能优化配置
# ===================

# 启用轻量模式 (跳过重CPU操作)
LIGHT_MODE=true

# 禁用缓存预热 (减少后台CPU消耗)
WARM_CACHE_ENABLED=false

# 指标收集间隔 (5分钟, 默认30秒)
METRICS_INTERVAL_MS=300000

# 缓存预热间隔 (更长的间隔)
WARM_GETCONTRACTINFO_MS=600000    # 10分钟
WARM_LISTRECORDS_MS=1200000       # 20分钟
WARM_CACHE_DEFAULT_INTERVAL_MS=300000  # 5分钟

# ===================
# 数据库配置
# ===================
MYSQL_ROOT_PASSWORD=rootpassword
MYSQL_DATABASE=blockchain_emr
MYSQL_USER=emr_user
MYSQL_PASSWORD=emr_password

# ===================
# 应用配置
# ===================
NODE_ENV=development
PORT=3000
HTTPS_PORT=3443

# JWT和加密配置
JWT_SECRET=your-super-secret-jwt-key-for-lightweight-mode
ENCRYPTION_KEY=your-32-char-encryption-key-here

# ===================
# 服务端点配置
# ===================
MYSQL_HOST=mysql
MYSQL_PORT=3306
REDIS_HOST=redis
REDIS_PORT=6379
IPFS_HOST=ipfs-node1
IPFS_PORT=5001
FABRIC_PEER_ENDPOINT=peer0.org1.example.com:7051
FABRIC_CA_ENDPOINT=ca.org1.example.com:7054

# ===================
# 性能调优配置
# ===================

# 禁用详细监控 (减少CPU开销)
ENABLE_DETAILED_MONITORING=false

# 降低健康检查频率
HEALTH_CHECK_INTERVAL=60000  # 1分钟

# 限制并发连接数
MAX_CONNECTIONS=50

# 减少日志详细程度
LOG_LEVEL=error

# 禁用开发工具 (生产环境)
DISABLE_DEV_TOOLS=true

# ===================
# 区块链优化配置
# ===================

# 禁用区块链预热 (节省大量CPU)
WARM_BLOCKCHAIN_GETCONTRACTINFO=false
WARM_BLOCKCHAIN_LISTRECORDS=false

# 简化区块链连接检查
BLOCKCHAIN_CONNECTION_CHECK_INTERVAL=300000  # 5分钟

# ===================
# IPFS优化配置
# ===================

# 降低IPFS操作频率
IPFS_TIMEOUT=30000  # 30秒超时
IPFS_RETRY_DELAY=5000  # 5秒重试延迟

# ===================
# 前端配置
# ===================
REACT_APP_API_URL=http://localhost:3000/api/v1
REACT_APP_ENVIRONMENT=development

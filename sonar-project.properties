# SonarQube Configuration for Blockchain EMR System

# Project identification
sonar.projectKey=blockchain-emr-system
sonar.projectName=Blockchain EMR System
sonar.projectVersion=1.0.0
sonar.organization=blockchain-emr

# Source code configuration
sonar.sources=backend-app/src,react-app/src,chaincode/src
sonar.tests=backend-app/tests,react-app/src,tests/e2e
sonar.exclusions=**/node_modules/**,**/dist/**,**/build/**,**/coverage/**,**/*.test.ts,**/*.spec.ts,**/*.d.ts

# Language-specific settings
sonar.typescript.lcov.reportPaths=backend-app/coverage/lcov.info,react-app/coverage/lcov.info
sonar.javascript.lcov.reportPaths=react-app/coverage/lcov.info
sonar.testExecutionReportPaths=backend-app/coverage/test-results.xml,react-app/coverage/test-results.xml

# Code coverage
sonar.coverage.exclusions=**/*.test.ts,**/*.spec.ts,**/*.d.ts,**/types/**,**/config/**,**/scripts/**

# Quality gate settings
sonar.qualitygate.wait=true

# Security hotspots and vulnerabilities
sonar.security.hotspots.inheritFromParent=true

# Code smells and maintainability
sonar.maintainability.rating=A
sonar.reliability.rating=A
sonar.security.rating=A

# Duplication settings
sonar.cpd.exclusions=**/*.test.ts,**/*.spec.ts

# Analysis parameters
sonar.sourceEncoding=UTF-8
sonar.scm.provider=git
sonar.scm.forceReloadAll=true

# Backend-specific settings
sonar.typescript.node.maxspace=8192
sonar.typescript.tsconfigPath=backend-app/tsconfig.json

# Frontend-specific settings
sonar.javascript.environments=browser,node,jest

# Security-specific rules
sonar.issue.ignore.multicriteria=e1,e2,e3,e4,e5

# Ignore specific security rules that may not apply to our context
sonar.issue.ignore.multicriteria.e1.ruleKey=typescript:S4426
sonar.issue.ignore.multicriteria.e1.resourceKey=**/crypto/**

sonar.issue.ignore.multicriteria.e2.ruleKey=typescript:S5122
sonar.issue.ignore.multicriteria.e2.resourceKey=**/cors/**

sonar.issue.ignore.multicriteria.e3.ruleKey=typescript:S5693
sonar.issue.ignore.multicriteria.e3.resourceKey=**/test/**

sonar.issue.ignore.multicriteria.e4.ruleKey=typescript:S6019
sonar.issue.ignore.multicriteria.e4.resourceKey=**/config/**

sonar.issue.ignore.multicriteria.e5.ruleKey=typescript:S1481
sonar.issue.ignore.multicriteria.e5.resourceKey=**/types/**

# Custom quality profiles
sonar.profile.typescript=Blockchain EMR TypeScript Profile
sonar.profile.javascript=Blockchain EMR JavaScript Profile

# External issues (from ESLint, etc.)
sonar.eslint.reportPaths=backend-app/eslint-report.json,react-app/eslint-report.json

# Performance settings
sonar.scanner.metadataFilePath=.scannerwork/report-task.txt

# Blockchain EMR System Environment Configuration Template
# Copy this file to .env and update the values for your environment

# =============================================================================
# ENVIRONMENT SETTINGS
# =============================================================================
NODE_ENV=development
PORT=3000
API_VERSION=v1
LOG_LEVEL=info

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# MySQL Database Settings
MYSQL_HOST=localhost
MYSQL_PORT=3306
MYSQL_DATABASE=blockchain_emr
MYSQL_USER=emr_user
MYSQL_PASSWORD=your_secure_mysql_password_here
MYSQL_ROOT_PASSWORD=your_secure_root_password_here
MYSQL_CONNECTION_LIMIT=100
MYSQL_TIMEOUT=60000

# MySQL Replication (Production)
MYSQL_SLAVE_HOST=localhost
MYSQL_SLAVE_PORT=3307
MYSQL_REPLICATION_USER=replicator
MYSQL_REPLICATION_PASSWORD=your_secure_replication_password_here

# Redis Cache Settings
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=your_secure_redis_password_here
REDIS_DB=0
REDIS_TTL=3600

# =============================================================================
# BLOCKCHAIN CONFIGURATION
# =============================================================================
# Hyperledger Fabric Settings
FABRIC_NETWORK_NAME=blockchain-emr-network
FABRIC_CHANNEL_NAME=emr-channel
FABRIC_CHAINCODE_NAME=emr-chaincode
FABRIC_CHAINCODE_VERSION=1.0

# Fabric Peer Configuration
FABRIC_PEER_ENDPOINT=peer0.org1.example.com:7051
FABRIC_PEER_TLS_ENABLED=true
FABRIC_PEER_TLS_CERT_PATH=./fabric/organizations/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt
FABRIC_PEER_MSP_ID=Org1MSP
FABRIC_PEER_MSP_CONFIG_PATH=./fabric/organizations/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp

# Fabric Orderer Configuration
FABRIC_ORDERER_ENDPOINT=orderer.example.com:7050
FABRIC_ORDERER_TLS_CERT_PATH=./fabric/organizations/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem

# Fabric CA Configuration
FABRIC_CA_ENDPOINT=ca.org1.example.com:7054
FABRIC_CA_NAME=ca.org1.example.com
FABRIC_CA_ADMIN_USER=admin
FABRIC_CA_ADMIN_PASSWORD=adminpw

# =============================================================================
# IPFS CONFIGURATION
# =============================================================================
# IPFS Node Settings
IPFS_HOST=localhost
IPFS_PORT=5001
IPFS_PROTOCOL=http
IPFS_TIMEOUT=30000

# IPFS Cluster Settings
IPFS_CLUSTER_HOST=localhost
IPFS_CLUSTER_PORT=9094
IPFS_CLUSTER_SECRET=your_64_character_cluster_secret_here_replace_with_actual_secret
IPFS_CLUSTER_REPLICATION_FACTOR_MIN=2
IPFS_CLUSTER_REPLICATION_FACTOR_MAX=3

# IPFS Gateway Settings
IPFS_GATEWAY_HOST=localhost
IPFS_GATEWAY_PORT=8080
IPFS_GATEWAY_PROTOCOL=http

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================
# JWT Authentication
JWT_SECRET=your_super_secure_jwt_secret_key_at_least_32_characters_long
JWT_EXPIRES_IN=8h
JWT_REFRESH_EXPIRES_IN=7d
JWT_ISSUER=blockchain-emr-system
JWT_AUDIENCE=emr-users

# Encryption Settings
ENCRYPTION_ALGORITHM=AES-256-GCM
ENCRYPTION_KEY=your_32_character_encryption_key_here
MASTER_ENCRYPTION_KEY=your_master_encryption_key_64_characters_minimum_length_required
ENCRYPTION_IV_LENGTH=12
ENCRYPTION_TAG_LENGTH=16

# Password Security
BCRYPT_ROUNDS=12
PASSWORD_MIN_LENGTH=8
PASSWORD_REQUIRE_UPPERCASE=true
PASSWORD_REQUIRE_LOWERCASE=true
PASSWORD_REQUIRE_NUMBERS=true
PASSWORD_REQUIRE_SYMBOLS=true

# Session Management
SESSION_SECRET=your_session_secret_key_here
SESSION_TIMEOUT=28800
SESSION_SECURE=false
SESSION_HTTP_ONLY=true
SESSION_SAME_SITE=strict

# CORS Settings
CORS_ORIGIN=http://localhost:3001
CORS_CREDENTIALS=true
CORS_METHODS=GET,HEAD,PUT,PATCH,POST,DELETE,OPTIONS
CORS_ALLOWED_HEADERS=Content-Type,Authorization,X-Requested-With

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_SKIP_SUCCESSFUL_REQUESTS=false

# =============================================================================
# MONITORING AND LOGGING
# =============================================================================
# Logging Configuration
LOG_FORMAT=combined
LOG_FILE_PATH=./logs/application.log
LOG_ERROR_FILE_PATH=./logs/error.log
LOG_MAX_SIZE=10m
LOG_MAX_FILES=5
LOG_DATE_PATTERN=YYYY-MM-DD

# Performance Monitoring
PERFORMANCE_MONITORING_ENABLED=true
PERFORMANCE_METRICS_INTERVAL=5000
PERFORMANCE_TPS_TARGET=1000
PERFORMANCE_LATENCY_TARGET=100
PERFORMANCE_ERROR_RATE_TARGET=1

# Health Check Settings
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_INTERVAL=30000
HEALTH_CHECK_TIMEOUT=5000

# Metrics Collection
METRICS_ENABLED=true
METRICS_PORT=9090
METRICS_PATH=/metrics
PROMETHEUS_ENABLED=true

# =============================================================================
# STORAGE CONFIGURATION
# =============================================================================
# Layered Storage Settings
STORAGE_L1_ENABLED=true
STORAGE_L1_TYPE=redis
STORAGE_L1_TTL=3600
STORAGE_L1_MAX_SIZE=1GB

STORAGE_L2_ENABLED=true
STORAGE_L2_TYPE=mysql
STORAGE_L2_TTL=86400
STORAGE_L2_MAX_SIZE=100GB

STORAGE_L3_ENABLED=true
STORAGE_L3_TYPE=ipfs
STORAGE_L3_TTL=2592000
STORAGE_L3_MAX_SIZE=1TB

STORAGE_L4_ENABLED=true
STORAGE_L4_TYPE=cold_storage
STORAGE_L4_TTL=31536000
STORAGE_L4_PROVIDER=aws_s3

# File Upload Settings
UPLOAD_MAX_FILE_SIZE=100MB
UPLOAD_ALLOWED_TYPES=pdf,jpg,jpeg,png,dcm,txt,doc,docx
UPLOAD_TEMP_DIR=./temp/uploads
UPLOAD_VIRUS_SCAN_ENABLED=true

# =============================================================================
# EXTERNAL SERVICES
# =============================================================================
# Email Service (for notifications)
EMAIL_SERVICE_ENABLED=false
EMAIL_SMTP_HOST=smtp.example.com
EMAIL_SMTP_PORT=587
EMAIL_SMTP_SECURE=true
EMAIL_SMTP_USER=noreply@blockchain-emr.com
EMAIL_SMTP_PASSWORD=your_email_password_here
EMAIL_FROM_ADDRESS=noreply@blockchain-emr.com
EMAIL_FROM_NAME=Blockchain EMR System

# SMS Service (for 2FA)
SMS_SERVICE_ENABLED=false
SMS_PROVIDER=twilio
SMS_ACCOUNT_SID=your_twilio_account_sid
SMS_AUTH_TOKEN=your_twilio_auth_token
SMS_FROM_NUMBER=+1234567890

# Cloud Storage (for backups)
AWS_ACCESS_KEY_ID=your_aws_access_key_id
AWS_SECRET_ACCESS_KEY=your_aws_secret_access_key
AWS_REGION=us-east-1
AWS_S3_BUCKET=blockchain-emr-backups

# =============================================================================
# DEVELOPMENT SETTINGS
# =============================================================================
# Development Mode Settings
DEV_MODE=true
DEV_MOCK_BLOCKCHAIN=false
DEV_MOCK_IPFS=false
DEV_SEED_DATA=true
DEV_AUTO_MIGRATE=true

# Testing Settings
TEST_DATABASE=blockchain_emr_test
TEST_REDIS_DB=1
TEST_TIMEOUT=30000
TEST_COVERAGE_THRESHOLD=90

# Debug Settings
DEBUG_ENABLED=false
DEBUG_NAMESPACE=emr:*
DEBUG_SQL_QUERIES=false
DEBUG_PERFORMANCE=false

# =============================================================================
# PRODUCTION SETTINGS
# =============================================================================
# Production Security
PROD_FORCE_HTTPS=true
PROD_TRUST_PROXY=true
PROD_HELMET_ENABLED=true
PROD_COMPRESSION_ENABLED=true

# Production Performance
PROD_CLUSTER_MODE=true
PROD_WORKER_PROCESSES=auto
PROD_KEEP_ALIVE_TIMEOUT=65000
PROD_HEADERS_TIMEOUT=66000

# Production Monitoring
PROD_APM_ENABLED=false
PROD_APM_SERVICE_NAME=blockchain-emr
PROD_APM_SERVER_URL=http://localhost:8200

# =============================================================================
# BACKUP AND DISASTER RECOVERY
# =============================================================================
# Backup Settings
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_COMPRESSION=true
BACKUP_ENCRYPTION=true

# Disaster Recovery
DR_ENABLED=false
DR_REPLICA_HOST=dr.blockchain-emr.com
DR_SYNC_INTERVAL=3600
DR_FAILOVER_THRESHOLD=300

# =============================================================================
# COMPLIANCE AND AUDIT
# =============================================================================
# Audit Settings
AUDIT_ENABLED=true
AUDIT_LOG_ALL_REQUESTS=true
AUDIT_LOG_SENSITIVE_DATA=false
AUDIT_RETENTION_DAYS=2555

# Compliance Settings
HIPAA_COMPLIANCE=true
GDPR_COMPLIANCE=true
DATA_RETENTION_POLICY=7_years
ANONYMIZATION_ENABLED=true

# =============================================================================
# FEATURE FLAGS
# =============================================================================
# Feature Toggles
FEATURE_MULTI_FACTOR_AUTH=true
FEATURE_BIOMETRIC_AUTH=false
FEATURE_BLOCKCHAIN_ANALYTICS=true
FEATURE_AI_DIAGNOSTICS=false
FEATURE_TELEMEDICINE=false
FEATURE_MOBILE_APP=true

# =============================================================================
# THIRD-PARTY INTEGRATIONS
# =============================================================================
# HL7 FHIR Integration
FHIR_ENABLED=false
FHIR_SERVER_URL=http://localhost:8080/fhir
FHIR_VERSION=R4

# Laboratory Integration
LAB_INTEGRATION_ENABLED=false
LAB_API_ENDPOINT=https://api.lab-system.com
LAB_API_KEY=your_lab_api_key_here

# Pharmacy Integration
PHARMACY_INTEGRATION_ENABLED=false
PHARMACY_API_ENDPOINT=https://api.pharmacy-system.com
PHARMACY_API_KEY=your_pharmacy_api_key_here

import i18n from 'i18next';
import LanguageDetector from 'i18next-browser-languagedetector';
import { initReactI18next } from 'react-i18next';

// 英文翻译
const en = {
  translation: {
    // 通用
    common: {
      loading: 'Loading...',
      save: 'Save',
      cancel: 'Cancel',
      delete: 'Delete',
      edit: 'Edit',
      view: 'View',
      search: 'Search',
      filter: 'Filter',
      export: 'Export',
      import: 'Import',
      refresh: 'Refresh',
      submit: 'Submit',
      reset: 'Reset',
      confirm: 'Confirm',
      back: 'Back',
      next: 'Next',
      previous: 'Previous',
      close: 'Close',
      yes: 'Yes',
      no: 'No',
      success: 'Success',
      error: 'Error',
      warning: 'Warning',
      info: 'Information',
    },

    // 导航
    nav: {
      dashboard: 'Dashboard',
      upload: 'Upload',
      transfer: 'Transfer',
      query: 'Query',
      history: 'History',
      profile: 'Profile',
      notifications: 'Notifications',
      settings: 'Settings',
      logout: 'Logout',
      login: 'Direct Login',
    },

    // 登录页面
    login: {
      title: 'EMR System Login',
      subtitle: 'Secure access to blockchain-based medical records',
      username: 'Username',
      password: 'Password',
      signIn: 'Sign In',
      loggingIn: 'Logging in...',
      usernamePlaceholder: 'Enter your username',
      passwordPlaceholder: 'Enter your password',
      usernameRequired: 'Username is required',
      passwordRequired: 'Password is required',
      usernameMinLength: 'Username must be at least 3 characters',
      passwordMinLength: 'Password must be at least 6 characters',
      success: 'Login successful!',
      error: 'Invalid username or password',
      networkError: 'Network error, please try again',
      demoAccounts: 'Demo Accounts',
      doctor: 'Doctor',
      admin: 'Admin',
      patient: 'Patient',
      helpText: 'Use demo accounts for testing purposes',
      allRightsReserved: 'All rights reserved.',
    },

    // 注册页面
    register: 'Register',
    secureRegister: 'Secure Register',
    registering: 'Registering...',
    registerSuccess: 'Registration successful!',
    registerError: 'Registration failed',
    haveAccount: 'Already have an account?',
    noAccount: "Don't have an account?",
    confirmPassword: 'Confirm Password',
    confirmPasswordRequired: 'Confirm password is required',
    confirmPasswordPlaceholder: 'Confirm your password',
    showPassword: 'Show password',
    hidePassword: 'Hide password',
    email: 'Email',
    emailRequired: 'Email is required',
    emailPlaceholder: 'Enter your email',
    demoAccount: 'Demo Account',
    secureLogin: 'Secure Login',

    // 仪表盘
    dashboard: {
      title: 'Blockchain EMR Dashboard',
      welcome: 'Welcome back',
      description: 'Secure EMR powered by Blockchain and IPFS',
      totalRecords: 'Total Records',
      totalValue: 'Total Value',
      uniqueOwners: 'Unique Owners',
      pendingApprovals: 'Pending Approvals',
      recordsTrend: 'Records Trend',
      ownerDistribution: 'Owner Distribution',
      quickActions: 'Quick Actions',
      recentActivity: 'Recent Activity',
    },

    // 上传页面
    upload: {
      title: 'Upload Medical Record',
      subtitle: 'Create a new medical record on the blockchain',
      step1: 'Patient Information',
      step2: 'Record Details',
      step3: 'Confirmation',
      patientId: 'Patient ID',
      owner: 'Owner',
      record: 'Medical Record',
      color: 'Color',
      size: 'Size',
      appraisedValue: 'Appraised Value',
      patientIdPlaceholder: 'Enter patient ID',
      ownerPlaceholder: 'Enter owner name',
      recordPlaceholder: 'Enter medical record details',
      appraisedValuePlaceholder: 'Enter appraised value',
      patientIdRequired: 'Patient ID is required',
      ownerRequired: 'Owner is required',
      recordRequired: 'Medical record is required',
      appraisedValueRequired: 'Appraised value is required',
      appraisedValueMin: 'Appraised value must be greater than 0',
      uploadSuccess: 'Medical record uploaded successfully!',
      uploadError: 'Failed to upload medical record',
      uploading: 'Uploading...',
      reviewAndSubmit: 'Review and Submit',
      approvalProcess: 'Approval Process',
      pendingApproval: 'Pending Approval',
      doctorApproval: 'Doctor Approval',
      adminApproval: 'Admin Approval',
      approved: 'Approved',
    },

    // 转移页面
    transfer: {
      title: 'Transfer Ownership',
      subtitle: 'Transfer medical record ownership',
      recordId: 'Record ID',
      newOwner: 'New Owner',
      currentOwner: 'Current Owner',
      recordIdPlaceholder: 'Enter record ID',
      newOwnerPlaceholder: 'Enter new owner name',
      recordIdRequired: 'Record ID is required',
      newOwnerRequired: 'New owner is required',
      transferSuccess: 'Ownership transferred successfully!',
      transferError: 'Failed to transfer ownership',
      transferring: 'Transferring...',
      confirmTransfer: 'Confirm Transfer',
      transferProcess: 'Transfer Process',
      step1: 'Initiate Transfer',
      step2: 'Verify Ownership',
      step3: 'Update Blockchain',
      step4: 'Complete Transfer',
    },

    // 查询页面
    query: {
      title: 'Query Medical Records',
      subtitle: 'Search and view medical records',
      searchPlaceholder: 'Search by ID, owner, or record content',
      noResults: 'No records found',
      recordId: 'Record ID',
      patientId: 'Patient ID',
      owner: 'Owner',
      record: 'Record',
      color: 'Color',
      size: 'Size',
      appraisedValue: 'Appraised Value',
      timestamp: 'Timestamp',
      status: 'Status',
      actions: 'Actions',
      viewDetails: 'View Details',
      exportData: 'Export Data',
      filterByStatus: 'Filter by Status',
      allStatuses: 'All Statuses',
      pending: 'Pending',
      approved: 'Approved',
      rejected: 'Rejected',
      statistics: 'Statistics',
      totalRecords: 'Total Records',
      totalValue: 'Total Value',
      averageValue: 'Average Value',
    },

    // 历史页面
    history: {
      title: 'History Records',
      subtitle: 'View operation history and audit logs',
      action: 'Action',
      timestamp: 'Timestamp',
      user: 'User',
      recordId: 'Record ID',
      status: 'Status',
      details: 'Details',
      noHistory: 'No history records found',
      filterByAction: 'Filter by Action',
      allActions: 'All Actions',
      create: 'Create',
      update: 'Update',
      transfer: 'Transfer',
      approve: 'Approve',
      reject: 'Reject',
      auditLog: 'Audit Log',
      exportHistory: 'Export History',
    },

    // 个人资料页面
    profile: {
      title: 'User Profile',
      subtitle: 'Manage your account settings',
      personalInfo: 'Personal Information',
      username: 'Username',
      email: 'Email',
      role: 'Role',
      name: 'Name',
      phone: 'Phone',
      address: 'Address',
      settings: 'Settings',
      language: 'Language',
      theme: 'Theme',
      notifications: 'Notifications',
      security: 'Security',
      changePassword: 'Change Password',
      currentPassword: 'Current Password',
      newPassword: 'New Password',
      confirmPassword: 'Confirm Password',
      updateProfile: 'Update Profile',
      updateSuccess: 'Profile updated successfully!',
      updateError: 'Failed to update profile',
      passwordChangeSuccess: 'Password changed successfully!',
      passwordChangeError: 'Failed to change password',
      doctor: 'Doctor',
      admin: 'Administrator',
      patient: 'Patient',
      english: 'English',
      chinese: 'Chinese',
      light: 'Light',
      dark: 'Dark',
      system: 'System',
    },

    // 通知页面
    notifications: {
      title: 'Notifications',
      subtitle: 'Stay updated with system notifications',
      markAsRead: 'Mark as Read',
      markAllAsRead: 'Mark All as Read',
      deleteNotification: 'Delete Notification',
      noNotifications: 'No notifications found',
      unread: 'Unread',
      read: 'Read',
      all: 'All',
      filterByStatus: 'Filter by Status',
      type: 'Type',
      message: 'Message',
      timestamp: 'Timestamp',
      actions: 'Actions',
      info: 'Info',
      warning: 'Warning',
      error: 'Error',
      success: 'Success',
    },

    // 错误信息
    errors: {
      networkError: 'Network error, please check your connection',
      serverError: 'Server error, please try again later',
      unauthorized: 'Unauthorized access',
      forbidden: 'Access forbidden',
      notFound: 'Resource not found',
      validationError: 'Validation error',
      unknownError: 'Unknown error occurred',
    },
  },
};

// 中文翻译
const zh = {
  translation: {
    // 通用
    common: {
      loading: '加载中...',
      save: '保存',
      cancel: '取消',
      delete: '删除',
      edit: '编辑',
      view: '查看',
      search: '搜索',
      filter: '筛选',
      export: '导出',
      import: '导入',
      refresh: '刷新',
      submit: '提交',
      reset: '重置',
      confirm: '确认',
      back: '返回',
      next: '下一步',
      previous: '上一步',
      close: '关闭',
      yes: '是',
      no: '否',
      success: '成功',
      error: '错误',
      warning: '警告',
      info: '信息',
    },

    // 导航
    nav: {
      dashboard: '仪表盘',
      upload: '上传病历',
      transfer: '转移所有权',
      query: '查询资产',
      history: '历史记录',
      profile: '个人资料',
      notifications: '通知中心',
      settings: '设置',
      logout: '退出登录',
      login: '直接登录',
    },

    // 登录页面
    login: {
      title: 'EMR系统登录',
      subtitle: '安全访问基于区块链的医疗记录',
      username: '用户名',
      password: '密码',
      signIn: '登录',
      loggingIn: '登录中...',
      usernamePlaceholder: '请输入用户名',
      passwordPlaceholder: '请输入密码',
      usernameRequired: '用户名不能为空',
      passwordRequired: '密码不能为空',
      usernameMinLength: '用户名至少3个字符',
      passwordMinLength: '密码至少6个字符',
      success: '登录成功！',
      error: '用户名或密码错误',
      networkError: '网络错误，请重试',
      demoAccounts: '演示账户',
      doctor: '医生',
      admin: '管理员',
      patient: '患者',
      helpText: '使用演示账户进行测试',
      allRightsReserved: '版权所有。',
    },

    // 注册页面
    register: '注册',
    secureRegister: '安全注册',
    registering: '注册中...',
    registerSuccess: '注册成功！',
    registerError: '注册失败',
    haveAccount: '已有账户？',
    noAccount: '还没有账户？',
    confirmPassword: '确认密码',
    confirmPasswordRequired: '确认密码不能为空',
    confirmPasswordPlaceholder: '请确认您的密码',
    showPassword: '显示密码',
    hidePassword: '隐藏密码',
    email: '邮箱',
    emailRequired: '邮箱不能为空',
    emailPlaceholder: '请输入邮箱',
    demoAccount: '演示账户',
    secureLogin: '安全登录',

    // 仪表盘
    dashboard: {
      title: '区块链EMR仪表盘',
      welcome: '欢迎回来',
      description: '基于区块链和IPFS的安全EMR',
      totalRecords: '总记录数',
      totalValue: '总估值',
      uniqueOwners: '医生数量',
      pendingApprovals: '待审批',
      recordsTrend: '记录趋势',
      ownerDistribution: '所有者分布',
      quickActions: '快捷操作',
      recentActivity: '最近活动',
    },

    // 上传页面
    upload: {
      title: '上传医疗记录',
      subtitle: '在区块链上创建新的医疗记录',
      step1: '患者信息',
      step2: '记录详情',
      step3: '确认提交',
      patientId: '患者ID',
      owner: '所有者',
      record: '医疗记录',
      color: '颜色',
      size: '大小',
      appraisedValue: '估价',
      patientIdPlaceholder: '请输入患者ID',
      ownerPlaceholder: '请输入所有者姓名',
      recordPlaceholder: '请输入医疗记录详情',
      appraisedValuePlaceholder: '请输入估价',
      patientIdRequired: '患者ID不能为空',
      ownerRequired: '所有者不能为空',
      recordRequired: '医疗记录不能为空',
      appraisedValueRequired: '估价不能为空',
      appraisedValueMin: '估价必须大于0',
      uploadSuccess: '医疗记录上传成功！',
      uploadError: '医疗记录上传失败',
      uploading: '上传中...',
      reviewAndSubmit: '审核并提交',
      approvalProcess: '审批流程',
      pendingApproval: '待审批',
      doctorApproval: '医生审批',
      adminApproval: '管理员审批',
      approved: '已批准',
    },

    // 转移页面
    transfer: {
      title: '转移所有权',
      subtitle: '转移医疗记录所有权',
      recordId: '记录ID',
      newOwner: '新所有者',
      currentOwner: '当前所有者',
      recordIdPlaceholder: '请输入记录ID',
      newOwnerPlaceholder: '请输入新所有者姓名',
      recordIdRequired: '记录ID不能为空',
      newOwnerRequired: '新所有者不能为空',
      transferSuccess: '所有权转移成功！',
      transferError: '所有权转移失败',
      transferring: '转移中...',
      confirmTransfer: '确认转移',
      transferProcess: '转移流程',
      step1: '发起转移',
      step2: '验证所有权',
      step3: '更新区块链',
      step4: '完成转移',
    },

    // 查询页面
    query: {
      title: '查询医疗记录',
      subtitle: '搜索和查看医疗记录',
      searchPlaceholder: '按ID、所有者或记录内容搜索',
      noResults: '未找到记录',
      recordId: '记录ID',
      patientId: '患者ID',
      owner: '所有者',
      record: '记录',
      color: '颜色',
      size: '大小',
      appraisedValue: '估价',
      timestamp: '时间戳',
      status: '状态',
      actions: '操作',
      viewDetails: '查看详情',
      exportData: '导出数据',
      filterByStatus: '按状态筛选',
      allStatuses: '所有状态',
      pending: '待审批',
      approved: '已批准',
      rejected: '已拒绝',
      statistics: '统计信息',
      totalRecords: '总记录数',
      totalValue: '总估值',
      averageValue: '平均估值',
    },

    // 历史页面
    history: {
      title: '历史记录',
      subtitle: '查看操作历史和审计日志',
      action: '操作',
      timestamp: '时间戳',
      user: '用户',
      recordId: '记录ID',
      status: '状态',
      details: '详情',
      noHistory: '未找到历史记录',
      filterByAction: '按操作筛选',
      allActions: '所有操作',
      create: '创建',
      update: '更新',
      transfer: '转移',
      approve: '批准',
      reject: '拒绝',
      auditLog: '审计日志',
      exportHistory: '导出历史',
    },

    // 个人资料页面
    profile: {
      title: '用户资料',
      subtitle: '管理您的账户设置',
      personalInfo: '个人信息',
      username: '用户名',
      email: '邮箱',
      role: '角色',
      name: '姓名',
      phone: '电话',
      address: '地址',
      settings: '设置',
      language: '语言',
      theme: '主题',
      notifications: '通知',
      security: '安全',
      changePassword: '修改密码',
      currentPassword: '当前密码',
      newPassword: '新密码',
      confirmPassword: '确认密码',
      updateProfile: '更新资料',
      updateSuccess: '资料更新成功！',
      updateError: '资料更新失败',
      passwordChangeSuccess: '密码修改成功！',
      passwordChangeError: '密码修改失败',
      doctor: '医生',
      admin: '管理员',
      patient: '患者',
      english: '英文',
      chinese: '中文',
      light: '浅色',
      dark: '深色',
      system: '系统',
    },

    // 通知页面
    notifications: {
      title: '通知中心',
      subtitle: '及时了解系统通知',
      markAsRead: '标记为已读',
      markAllAsRead: '全部标记为已读',
      deleteNotification: '删除通知',
      noNotifications: '暂无通知',
      unread: '未读',
      read: '已读',
      all: '全部',
      filterByStatus: '按状态筛选',
      type: '类型',
      message: '消息',
      timestamp: '时间戳',
      actions: '操作',
      info: '信息',
      warning: '警告',
      error: '错误',
      success: '成功',
    },

    // 错误信息
    errors: {
      networkError: '网络错误，请检查网络连接',
      serverError: '服务器错误，请稍后重试',
      unauthorized: '未授权访问',
      forbidden: '访问被禁止',
      notFound: '资源未找到',
      validationError: '验证错误',
      unknownError: '发生未知错误',
    },
  },
};

// 初始化 i18n
i18n
  .use(LanguageDetector)
  .use(initReactI18next)
  .init({
    resources: {
      en,
      zh,
    },
    fallbackLng: 'zh',
    debug: process.env.NODE_ENV === 'development',

    interpolation: {
      escapeValue: false, // React 已经默认转义
    },

    detection: {
      order: ['localStorage', 'navigator', 'htmlTag'],
      caches: ['localStorage'],
    },
  });

export default i18n;

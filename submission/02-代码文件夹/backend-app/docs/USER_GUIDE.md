# 区块链电子病历系统 - 用户手册

## 系统概述

区块链电子病历（EMR）共享系统是一个基于区块链技术的医疗数据管理平台，提供安全、透明、可追溯的病历存储和共享服务。

### 主要功能

- 🔐 安全的用户认证和授权
- 📋 电子病历创建和管理
- 🔗 跨链病历数据传输
- 💬 实时聊天和咨询
- 📊 数据分析和报告
- 🔍 病历查询和检索

## 系统要求

### 硬件要求

- CPU: 2核心以上
- 内存: 4GB以上
- 存储: 20GB可用空间
- 网络: 稳定的互联网连接

### 软件要求

- Node.js 18.0+
- Docker 20.0+
- Kubernetes 1.20+ (生产环境)
- 现代浏览器 (Chrome 90+, Firefox 88+, Safari 14+)

## 安装指南

### Docker部署

1. **克隆项目**

```bash
git clone <repository-url>
cd blockchain-emr-system
```

2. **配置环境变量**

```bash
cp .env.example .env
# 编辑 .env 文件，配置数据库和区块链连接信息
```

3. **启动服务**

```bash
docker-compose up -d
```

4. **验证部署**

- 后端服务: https://localhost:3001
- 前端应用: http://localhost:3000

### Kubernetes部署

1. **准备配置文件**

```bash
kubectl apply -f deployment/k8s/
```

2. **检查部署状态**

```bash
kubectl get pods -n emr-system
```

## 用户操作指南

### 1. 用户注册和登录

#### 注册新账户

1. 访问系统首页
2. 点击"注册"按钮
3. 填写用户信息：
   - 用户名
   - 邮箱地址
   - 密码（至少8位，包含字母和数字）
   - 用户角色（患者/医生/管理员）
4. 点击"提交注册"
5. 验证邮箱（如果启用）

#### 用户登录

1. 在登录页面输入用户名和密码
2. 点击"登录"按钮
3. 系统验证成功后跳转到主界面

### 2. 病历管理

#### 创建病历

1. 登录系统后，点击"创建病历"
2. 填写病历信息：
   - 患者基本信息
   - 诊断信息
   - 治疗方案
   - 医生签名
3. 上传相关文件（检查报告、影像资料等）
4. 点击"保存"提交到区块链

#### 查看病历

1. 在主界面点击"我的病历"
2. 浏览病历列表
3. 点击具体病历查看详情
4. 可以下载病历文件

#### 共享病历

1. 选择要共享的病历
2. 点击"共享设置"
3. 添加授权用户或机构
4. 设置访问权限和有效期
5. 确认共享设置

### 3. 跨链转移

#### 发起跨链转移

1. 选择要转移的病历
2. 点击"跨链转移"
3. 选择目标链
4. 确认转移信息
5. 支付转移费用
6. 等待转移完成

#### 查看转移状态

1. 在"转移记录"中查看状态
2. 可以查看转移哈希和确认数
3. 转移完成后可在目标链查看

### 4. 实时聊天

#### 发起聊天

1. 点击"聊天"功能
2. 选择聊天对象（医生/患者）
3. 输入消息并发送
4. 支持文字、图片、文件发送

#### 群组聊天

1. 创建或加入医疗团队群组
2. 在群组中讨论病例
3. 共享病历和资料

## 常见问题

### 连接问题

**Q: 无法连接到服务器** A: 请检查：

- 网络连接是否正常
- 服务器地址是否正确
- 防火墙设置是否阻止连接
- 服务是否正常运行

**Q: 区块链连接失败** A: 请确认：

- 区块链节点是否运行
- 网络配置是否正确
- 账户余额是否充足

### 权限问题

**Q: 无法访问某些功能** A: 请检查：

- 用户角色权限
- 是否已完成身份验证
- 功能是否需要特殊授权

**Q: 病历共享失败** A: 可能原因：

- 目标用户不存在
- 权限设置错误
- 网络传输问题

### 性能优化

**建议**：

- 定期清理浏览器缓存
- 使用稳定的网络连接
- 避免同时上传大量文件
- 合理设置病历共享权限

## 技术支持

### 联系方式

- 技术支持邮箱: support@emr-blockchain.com
- 在线文档: https://docs.emr-blockchain.com
- 社区论坛: https://forum.emr-blockchain.com

### 紧急联系

- 24小时技术热线: +86-400-XXX-XXXX
- 紧急邮箱: emergency@emr-blockchain.com

---

_最后更新: 2025/8/2_

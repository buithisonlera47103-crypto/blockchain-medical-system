# ================================================
# 区块链电子病历系统完整环境配置文件
# ================================================

# 应用程序基础配置
NODE_ENV=production
APP_NAME=EMR_Blockchain_System
APP_VERSION=1.0.0
API_VERSION=v1
PORT=3000
HOST=0.0.0.0

# 数据库配置
DB_HOST=localhost
DB_PORT=3306
DB_NAME=emr_blockchain
DB_USER=emr_user
DB_PASSWORD=secure_password_2024
DB_CONNECTION_LIMIT=20
DB_TIMEOUT=60000

# Redis缓存配置
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=redis_secure_pass
REDIS_DB=0
REDIS_TTL=3600

# JWT认证配置
JWT_SECRET=your_super_secure_jwt_secret_key_2024
JWT_EXPIRES_IN=24h
JWT_REFRESH_SECRET=your_refresh_token_secret_key
JWT_REFRESH_EXPIRES_IN=7d

# 加密配置
ENCRYPTION_ALGORITHM=AES-256-GCM
MASTER_KEY=your_256_bit_master_encryption_key_here
KMS_MODE=envelope
KEY_ROTATION_INTERVAL=30d

# IPFS配置
IPFS_HOST=localhost
IPFS_PORT=5001
IPFS_PROTOCOL=http
IPFS_CLUSTER_ENABLED=true
IPFS_PIN_RECORDS=true
IPFS_CHUNK_SIZE=262144

# Hyperledger Fabric配置
FABRIC_NETWORK_NAME=emr-network
FABRIC_CHANNEL_NAME=emr-channel
FABRIC_CHAINCODE_NAME=emr-contract
FABRIC_ORG_NAME=Hospital1MSP
FABRIC_USER_NAME=Admin
FABRIC_CONNECTION_PROFILE_PATH=./fabric-network/connection-profile.json
FABRIC_WALLET_PATH=./fabric-network/wallet

# 区块链网络节点配置
FABRIC_CA_URL=https://ca.hospital1.emr.com:7054
FABRIC_PEER_URL=grpcs://peer0.hospital1.emr.com:7051
FABRIC_ORDERER_URL=grpcs://orderer.emr.com:7050

# 安全配置
BCRYPT_ROUNDS=12
SESSION_SECRET=your_session_secret_key
CORS_ORIGIN=http://localhost:3001,https://emr.yourdomain.com
RATE_LIMIT_WINDOW=15
RATE_LIMIT_MAX=100

# 文件上传配置
MAX_FILE_SIZE=50MB
ALLOWED_FILE_TYPES=pdf,jpg,jpeg,png,dcm,xml
UPLOAD_TEMP_DIR=./uploads/temp
VIRUS_SCAN_ENABLED=true

# 日志配置
LOG_LEVEL=info
LOG_FORMAT=json
LOG_FILE_PATH=./logs/app.log
LOG_MAX_SIZE=100MB
LOG_MAX_FILES=5
LOG_COMPRESS=true

# 监控和追踪配置
METRICS_ENABLED=true
METRICS_PORT=9090
JAEGER_ENDPOINT=http://localhost:14268/api/traces
PROMETHEUS_ENDPOINT=http://localhost:9090

# 邮件通知配置
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=notifications@yourdomain.com
SMTP_PASS=your_email_password
EMAIL_FROM=EMR System <noreply@yourdomain.com>

# 短信通知配置
SMS_PROVIDER=twilio
TWILIO_ACCOUNT_SID=your_twilio_account_sid
TWILIO_AUTH_TOKEN=your_twilio_auth_token
TWILIO_PHONE_NUMBER=+1234567890

# 备份配置
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=emr-backups
AWS_ACCESS_KEY_ID=your_aws_access_key
AWS_SECRET_ACCESS_KEY=your_aws_secret_key
AWS_REGION=us-east-1

# 审计配置
AUDIT_ENABLED=true
AUDIT_LOG_LEVEL=info
AUDIT_RETENTION_DAYS=2555  # 7年法规要求
AUDIT_BLOCKCHAIN_ENABLED=true

# 性能配置
CLUSTER_ENABLED=true
CLUSTER_WORKERS=4
CACHE_TTL=300
API_TIMEOUT=30000
CONNECTION_POOL_SIZE=10

# 开发环境配置
DEBUG_ENABLED=false
DEBUG_LEVEL=2
MOCK_BLOCKCHAIN=false
MOCK_IPFS=false
SEED_DATABASE=false

# 健康检查配置
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_INTERVAL=30000
HEALTH_CHECK_TIMEOUT=5000
HEALTH_CHECK_ENDPOINT=/health

# 特性开关
FEATURE_MFA_ENABLED=true
FEATURE_AUDIT_DASHBOARD=true
FEATURE_FEDERATED_LEARNING=false
FEATURE_BIOMETRIC_AUTH=false
FEATURE_ZERO_KNOWLEDGE_PROOF=false

# API限流配置
API_RATE_LIMIT_ENABLED=true
API_RATE_LIMIT_POINTS=100
API_RATE_LIMIT_DURATION=900
API_BURST_LIMIT=20

# 数据库优化配置
DB_QUERY_CACHE_ENABLED=true
DB_QUERY_CACHE_SIZE=50MB
DB_SLOW_QUERY_LOG=true
DB_SLOW_QUERY_TIME=2000

# 区块链性能配置
BLOCKCHAIN_TIMEOUT=30000
BLOCKCHAIN_RETRY_ATTEMPTS=3
BLOCKCHAIN_BATCH_SIZE=10
BLOCKCHAIN_CONSENSUS_TIMEOUT=10000

# 安全扫描配置
SECURITY_SCAN_ENABLED=true
VULNERABILITY_SCAN_SCHEDULE=0 3 * * 0
DEPENDENCY_CHECK_ENABLED=true
SAST_ENABLED=true

# 合规配置
HIPAA_COMPLIANCE_MODE=true
GDPR_COMPLIANCE_MODE=true
DATA_RESIDENCY_REGION=US
ENCRYPTION_AT_REST=true
ENCRYPTION_IN_TRANSIT=true

# 灾难恢复配置
DR_ENABLED=true
DR_BACKUP_FREQUENCY=6h
DR_RTO_TARGET=4h
DR_RPO_TARGET=1h

# 容器化配置
DOCKER_ENABLED=true
KUBERNETES_ENABLED=false
CONTAINER_REGISTRY=docker.io/emr-system
IMAGE_TAG=latest

# 微服务配置
MICROSERVICES_ENABLED=false
SERVICE_DISCOVERY_URL=http://consul:8500
MESSAGE_QUEUE_URL=amqp://rabbitmq:5672
API_GATEWAY_URL=http://api-gateway:8080
